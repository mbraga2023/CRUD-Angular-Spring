{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/cursos.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"src/app/shared/form/form-utils.service\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/toolbar\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/select\";\nimport * as i14 from \"@angular/material/core\";\nfunction CursosFormComponent_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.formUtils.getErrorMessage(ctx_r1.form, \"name\"));\n  }\n}\nfunction CursosFormComponent_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Categoria \\u00E9 obrigat\\u00F3ria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CursosFormComponent_mat_error_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 10);\n    i0.ɵɵtext(1, \" Adicione uma aula \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CursosFormComponent_table_33_mat_error_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Campo inv\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CursosFormComponent_table_33_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Campo inv\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CursosFormComponent_table_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 19)(1, \"tr\", 20)(2, \"td\", 21)(3, \"mat-form-field\", 1)(4, \"mat-label\");\n    i0.ɵɵtext(5, \" T\\u00EDtulo Aula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 22);\n    i0.ɵɵtemplate(7, CursosFormComponent_table_33_mat_error_7_Template, 2, 0, \"mat-error\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\", 23)(9, \"mat-form-field\", 1)(10, \"mat-label\");\n    i0.ɵɵtext(11, \" URL Aula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 24);\n    i0.ɵɵtext(13, \"http://youtube.be/\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 25);\n    i0.ɵɵtemplate(15, CursosFormComponent_table_33_mat_error_15_Template, 2, 0, \"mat-error\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\")(17, \"mat-icon\", 26);\n    i0.ɵɵlistener(\"click\", function CursosFormComponent_table_33_Template_mat_icon_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const i_r6 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.removeAula(i_r6));\n    });\n    i0.ɵɵtext(18, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r6);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r4.getAulasFormArray()[i_r6].get(\"name\")) == null ? null : tmp_1_0.invalid);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r4.getAulasFormArray()[i_r6].get(\"youtubeUrl\")) == null ? null : tmp_2_0.invalid);\n  }\n}\nexport class CursosFormComponent {\n  constructor(formBuilder, service, snackBar, location, route, formUtils) {\n    this.formBuilder = formBuilder;\n    this.service = service;\n    this.snackBar = snackBar;\n    this.location = location;\n    this.route = route;\n    this.formUtils = formUtils;\n    this.form = this.formBuilder.group({\n      _id: [''],\n      name: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(100)]],\n      category: ['', [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    const curso = this.route.snapshot.data['curso'];\n    this.form = this.formBuilder.group({\n      _id: [curso._id],\n      name: [curso.name, [Validators.required, Validators.minLength(2), Validators.maxLength(100)]],\n      category: [curso.category, [Validators.required]],\n      aulas: this.formBuilder.array(this.obterAulas(curso), Validators.required)\n    });\n  }\n  obterAulas(curso) {\n    const aulas = [];\n    if (curso?.aulas) {\n      curso.aulas.forEach(aula => aulas.push(this.criarAula(aula)));\n    } else {\n      aulas.push(this.criarAula());\n    }\n    return aulas;\n  }\n  criarAula(aula = {\n    id: '',\n    name: '',\n    youtubeUrl: ''\n  }) {\n    return this.formBuilder.group({\n      id: [aula.id],\n      name: [aula.name\n      /* [\n         Validators.required,\n         Validators.minLength(2),\n         Validators.maxLength(100),\n       ],*/],\n\n      youtubeUrl: [aula.youtubeUrl /*\n                                   [\n                                   Validators.required,\n                                   Validators.minLength(5),\n                                   Validators.maxLength(100),\n                                   ],*/]\n    });\n  }\n\n  onSubmit() {\n    // Check if the form is valid and category is not null or \"null\"\n    if (this.form.valid && this.form.value.category && this.form.value.category !== 'null') {\n      this.service.save(this.form.value).subscribe({\n        next: result => this.onSuccess(),\n        error: error => this.onError()\n      });\n    } else {\n      // Handle invalid form or category\n      this.snackBar.open('Por favor, preencha todos os campos corretamente.', '', {\n        duration: 5000\n      });\n    }\n  }\n  onCancel() {\n    this.location.back();\n  }\n  onError() {\n    this.snackBar.open('Erro ao salvar curso', '', {\n      duration: 5000\n    });\n  }\n  onSuccess() {\n    this.snackBar.open('Curso salvo com sucesso', '', {\n      duration: 5000\n    });\n    this.onCancel();\n  }\n  getAulasFormArray() {\n    return this.form.get('aulas').controls;\n  }\n  addAula() {\n    const aulas = this.form.get('aulas');\n    aulas.push(this.criarAula());\n  }\n  removeAula(index) {\n    const aulas = this.form.get('aulas');\n    aulas.removeAt(index);\n  }\n  static #_ = this.ɵfac = function CursosFormComponent_Factory(t) {\n    return new (t || CursosFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CursosService), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.Location), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i6.FormUtilsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CursosFormComponent,\n    selectors: [[\"app-cursos-form\"]],\n    decls: 39,\n    vars: 6,\n    consts: [[1, \"min-width\", 3, \"formGroup\"], [1, \"full-width\"], [\"matInput\", \"\", \"placeholder\", \"Nome\", \"formControlName\", \"name\", \"required\", \"\"], [\"name\", \"\"], [\"align\", \"end\"], [4, \"ngIf\"], [\"formControlName\", \"category\"], [\"value\", \"null\"], [\"value\", \"Front-end\"], [\"value\", \"Back-end\"], [1, \"align-left\"], [1, \"align-right\", \"add-button\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"aria-label\", \"Adicionar uma nova aula\"], [\"class\", \"align-left\", 4, \"ngIf\"], [\"formArrayName\", \"aulas\", 4, \"ngFor\", \"ngForOf\"], [\"align\", \"start\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-raised-button\", \"\", 3, \"click\"], [\"formArrayName\", \"aulas\"], [3, \"formGroupName\"], [2, \"width\", \"65%\"], [\"matInput\", \"\", \"formControlName\", \"name\"], [2, \"width\", \"30%\"], [\"matPrefix\", \"\"], [\"matInput\", \"\", \"formControlName\", \"youtubeUrl\"], [\"aria-label\", \"Remover aula\", \"color\", \"warn\", 3, \"click\"]],\n    template: function CursosFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-header\")(2, \"mat-card-title\");\n        i0.ɵɵtext(3, \"Cadastrar\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"form\", 0)(6, \"div\")(7, \"mat-form-field\", 1);\n        i0.ɵɵelement(8, \"input\", 2, 3);\n        i0.ɵɵelementStart(10, \"mat-hint\", 4);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, CursosFormComponent_mat_error_12_Template, 2, 1, \"mat-error\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"mat-form-field\", 1)(14, \"mat-label\");\n        i0.ɵɵtext(15, \"Categoria\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-select\", 6);\n        i0.ɵɵelement(17, \"mat-option\", 7);\n        i0.ɵɵelementStart(18, \"mat-option\", 8);\n        i0.ɵɵtext(19, \"Front-End\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-option\", 9);\n        i0.ɵɵtext(21, \"Back-End\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(22, CursosFormComponent_mat_error_22_Template, 2, 0, \"mat-error\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"mat-toolbar\")(24, \"div\", 10)(25, \"span\");\n        i0.ɵɵtext(26, \"Aulas\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 11);\n        i0.ɵɵtext(28, \" Adicionar \");\n        i0.ɵɵelementStart(29, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function CursosFormComponent_Template_button_click_29_listener() {\n          return ctx.addAula();\n        });\n        i0.ɵɵelementStart(30, \"mat-icon\", 13);\n        i0.ɵɵtext(31, \"add\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(32, CursosFormComponent_mat_error_32_Template, 2, 0, \"mat-error\", 14);\n        i0.ɵɵtemplate(33, CursosFormComponent_table_33_Template, 19, 3, \"table\", 15);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"mat-card-actions\", 16)(35, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function CursosFormComponent_Template_button_click_35_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵtext(36, \"Salvar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function CursosFormComponent_Template_button_click_37_listener() {\n          return ctx.onCancel();\n        });\n        i0.ɵɵtext(38, \"Cancelar\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(9);\n        let tmp_2_0;\n        let tmp_3_0;\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", _r0.value.length, \"/100\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.invalid);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.form.get(\"category\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.form.get(\"category\")) == null ? null : tmp_3_0.touched));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.formUtils.isFormArrayRequired(ctx.form, \"aulas\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.getAulasFormArray());\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i7.MatCard, i7.MatCardActions, i7.MatCardContent, i7.MatCardHeader, i7.MatCardTitle, i8.MatToolbar, i9.MatButton, i9.MatIconButton, i10.MatIcon, i11.MatFormField, i11.MatLabel, i11.MatHint, i11.MatError, i11.MatPrefix, i12.MatInput, i13.MatSelect, i14.MatOption, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName],\n    styles: [\".full-width[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\nmat-card[_ngcontent-%COMP%] {\\n  max-width: 80%;\\n  margin: 2em auto;\\n  text-align: center;\\n}\\n\\n.min-width[_ngcontent-%COMP%] {\\n  width: 100%;\\n  min-width: 150px;\\n}\\n\\n.align-left[_ngcontent-%COMP%] {\\n  flex: 1; \\n\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.align-right[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end; \\n\\n}\\n\\n.add-button[_ngcontent-%COMP%] {\\n  margin-left: 8px;\\n  font-size: medium;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY3Vyc29zL0NvbnRhaW5lcnMvY3Vyc29zLWZvcm0vY3Vyc29zLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxPQUFBLEVBQUEsNkNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBLEVBQUEsa0NBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5mdWxsLXdpZHRoIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxubWF0LWNhcmQge1xyXG4gIG1heC13aWR0aDogODAlO1xyXG4gIG1hcmdpbjogMmVtIGF1dG87Ly8yeCBhIG1hcmdlbSBwYWRyw4PCo29cclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5taW4td2lkdGh7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbWluLXdpZHRoOiAxNTBweDsvL3RhbWFuaG8gbcODwq1uaW1vIGRvIGZvcm11bGFyaW9cclxufVxyXG5cclxuLmFsaWduLWxlZnQge1xyXG4gIGZsZXg6IDE7IC8qIEdyb3cgdG8gZmlsbCBhdmFpbGFibGUgc3BhY2Ugb24gdGhlIGxlZnQgKi9cclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hbGlnbi1yaWdodCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IC8qIEFsaWduIHRoZSBidXR0b24gdG8gdGhlIHJpZ2h0ICovXHJcbn1cclxuXHJcbi5hZGQtYnV0dG9uIHtcclxuICBtYXJnaW4tbGVmdDogOHB4O1xyXG4gIGZvbnQtc2l6ZTogbWVkaXVtO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","formUtils","getErrorMessage","form","ɵɵelement","ɵɵtemplate","CursosFormComponent_table_33_mat_error_7_Template","CursosFormComponent_table_33_mat_error_15_Template","ɵɵlistener","CursosFormComponent_table_33_Template_mat_icon_click_17_listener","restoredCtx","ɵɵrestoreView","_r10","i_r6","index","ctx_r9","ɵɵnextContext","ɵɵresetView","removeAula","ɵɵproperty","tmp_1_0","ctx_r4","getAulasFormArray","get","invalid","tmp_2_0","CursosFormComponent","constructor","formBuilder","service","snackBar","location","route","group","_id","name","required","minLength","maxLength","category","ngOnInit","curso","snapshot","data","aulas","array","obterAulas","forEach","aula","push","criarAula","id","youtubeUrl","onSubmit","valid","value","save","subscribe","next","result","onSuccess","error","onError","open","duration","onCancel","back","controls","addAula","removeAt","_","ɵɵdirectiveInject","i1","FormBuilder","i2","CursosService","i3","MatSnackBar","i4","Location","i5","ActivatedRoute","i6","FormUtilsService","_2","selectors","decls","vars","consts","template","CursosFormComponent_Template","rf","ctx","CursosFormComponent_mat_error_12_Template","CursosFormComponent_mat_error_22_Template","CursosFormComponent_Template_button_click_29_listener","CursosFormComponent_mat_error_32_Template","CursosFormComponent_table_33_Template","CursosFormComponent_Template_button_click_35_listener","CursosFormComponent_Template_button_click_37_listener","ɵɵtextInterpolate1","_r0","length","tmp_3_0","touched","isFormArrayRequired"],"sources":["C:\\Users\\Michel\\Documents\\GitHub\\CRUD-Angular-Spring\\crud-angular\\src\\app\\cursos\\Containers\\cursos-form\\cursos-form.component.ts","C:\\Users\\Michel\\Documents\\GitHub\\CRUD-Angular-Spring\\crud-angular\\src\\app\\cursos\\Containers\\cursos-form\\cursos-form.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, NonNullableFormBuilder, UntypedFormArray, Validators } from '@angular/forms';\nimport { CursosService } from '../../services/cursos.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { Cursos } from '../../model/cursos';\nimport { Aulas } from '../../model/aulas';\nimport { Subscription } from 'rxjs';\nimport { FormUtilsService } from 'src/app/shared/form/form-utils.service';\n\n\n@Component({\n  selector: 'app-cursos-form',\n  templateUrl: './cursos-form.component.html',\n  styleUrls: ['./cursos-form.component.scss'],\n})\nexport class CursosFormComponent {\n  form: FormGroup;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private service: CursosService,\n    private snackBar: MatSnackBar,\n    private location: Location,\n    private route: ActivatedRoute,\n    public formUtils: FormUtilsService\n  ) {\n    this.form = this.formBuilder.group({\n      _id: [''],\n      name: [\n        '',\n        [\n          Validators.required,\n          Validators.minLength(3),\n          Validators.maxLength(100),\n        ],\n      ],\n      category: ['', [Validators.required]],\n    });\n  }\n\n  ngOnInit(): void {\n    const curso: Cursos = this.route.snapshot.data['curso'];\n    this.form = this.formBuilder.group({\n      _id: [curso._id],\n      name: [\n        curso.name,\n        [\n          Validators.required,\n          Validators.minLength(2),\n          Validators.maxLength(100),\n        ],\n      ],\n      category: [curso.category, [Validators.required]],\n      aulas: this.formBuilder.array(\n        this.obterAulas(curso),\n        Validators.required\n      ),\n    });\n  }\n\n  private obterAulas(curso: Cursos) {\n    const aulas = [];\n    if (curso?.aulas) {\n      curso.aulas.forEach((aula) => aulas.push(this.criarAula(aula)));\n    } else {\n      aulas.push(this.criarAula());\n    }\n    return aulas;\n  }\n\n  private criarAula(aula: Aulas = { id: '', name: '', youtubeUrl: '' }) {\n    return this.formBuilder.group({\n      id: [aula.id],\n      name: [\n        aula.name,\n       /* [\n          Validators.required,\n          Validators.minLength(2),\n          Validators.maxLength(100),\n        ],*/\n      ],\n      youtubeUrl: [\n        aula.youtubeUrl,/*\n        [\n          Validators.required,\n          Validators.minLength(5),\n          Validators.maxLength(100),\n        ],*/\n      ],\n    });\n  }\n\n  onSubmit() {\n    // Check if the form is valid and category is not null or \"null\"\n    if (\n      this.form.valid &&\n      this.form.value.category &&\n      this.form.value.category !== 'null'\n    ) {\n      this.service.save(this.form.value).subscribe({\n        next: (result) => this.onSuccess(),\n        error: (error) => this.onError(),\n      });\n    } else {\n      // Handle invalid form or category\n      this.snackBar.open(\n        'Por favor, preencha todos os campos corretamente.',\n        '',\n        { duration: 5000 }\n      );\n    }\n  }\n\n  onCancel() {\n    this.location.back();\n  }\n\n  private onError() {\n    this.snackBar.open('Erro ao salvar curso', '', { duration: 5000 });\n  }\n\n  private onSuccess() {\n    this.snackBar.open('Curso salvo com sucesso', '', { duration: 5000 });\n    this.onCancel();\n  }\n\n    getAulasFormArray() {\n    return (<UntypedFormArray>this.form.get('aulas')).controls;\n  }\n\n  addAula() {\n    const aulas = this.form.get('aulas') as UntypedFormArray;\n    aulas.push(this.criarAula());\n  }\n\n  removeAula(index: number) {\n    const aulas = this.form.get('aulas') as UntypedFormArray;\n    aulas.removeAt(index);\n  }\n\n\n}\n","<mat-card>\n  <mat-card-header>\n    <mat-card-title>Cadastrar</mat-card-title>\n  </mat-card-header>\n\n  <mat-card-content>\n    <form [formGroup]=\"form\" class=\"min-width\">\n      <div>\n        <mat-form-field class=\"full-width\">\n          <input matInput placeholder=\"Nome\" formControlName=\"name\" #name required>\n          <mat-hint align=\"end\">{{name.value.length}}/100</mat-hint>\n\n          <mat-error *ngIf=\"form.get('name')?.invalid\">{{\n            formUtils.getErrorMessage(form, 'name')\n          }}</mat-error>\n        </mat-form-field>\n\n        <mat-form-field class=\"full-width\">\n          <mat-label>Categoria</mat-label>\n          <mat-select formControlName=\"category\">\n            <mat-option value=\"null\"> </mat-option>\n            <mat-option value=\"Front-end\">Front-End</mat-option>\n            <mat-option value=\"Back-end\">Back-End</mat-option>\n          </mat-select>\n          <mat-error *ngIf=\"form.get('category')?.invalid && form.get('category')?.touched\">\n            Categoria é obrigatória\n          </mat-error>\n        </mat-form-field>\n\n        <mat-toolbar>\n          <div class=\"align-left\">\n            <span>Aulas</span>\n          </div>\n          <div class=\"align-right add-button\"> Adicionar\n            <button mat-icon-button (click)=\"addAula()\" color=\"primary\">\n              <mat-icon aria-label=\"Adicionar uma nova aula\">add</mat-icon>\n            </button>\n          </div>\n        </mat-toolbar>\n\n        <mat-error *ngIf=\"formUtils.isFormArrayRequired(form, 'aulas')\"\n        class=\"align-left\"> Adicione uma aula </mat-error>\n\n        <table formArrayName=\"aulas\"\n        *ngFor=\"let a of getAulasFormArray();\n        let i = index \">\n\n          <tr [formGroupName]=\"i\">\n            <td style=\"width: 65%\">\n              <mat-form-field class=\"full-width\">\n                <mat-label> Título Aula</mat-label>\n                <input matInput formControlName=\"name\">\n                <mat-error *ngIf=\"getAulasFormArray()[i].get('name')?.\n                invalid\">Campo inválido</mat-error>\n\n              </mat-form-field>\n            </td>\n            <td style=\"width: 30%\">\n              <mat-form-field class=\"full-width\">\n                <mat-label> URL Aula</mat-label>\n                <span matPrefix>http://youtube.be/</span>\n                <input matInput formControlName=\"youtubeUrl\">\n                <mat-error *ngIf=\"getAulasFormArray()[i].get('youtubeUrl')?.\n                invalid\">Campo inválido</mat-error>\n              </mat-form-field>\n            </td>\n            <td>\n              <mat-icon aria-label=\"Remover aula\" (click)=\"removeAula(i)\"  color=\"warn\">delete</mat-icon>\n            </td>\n          </tr>\n        </table>\n\n      </div>\n    </form>\n  </mat-card-content>\n  <mat-card-actions align=\"start\">\n    <button mat-raised-button color=\"primary\" (click)=\"onSubmit()\">Salvar</button>\n    <button mat-raised-button (click)=\"onCancel()\">Cancelar</button>\n  </mat-card-actions>\n</mat-card>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}